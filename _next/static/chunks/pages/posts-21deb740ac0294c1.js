(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{5161:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts",function(){return t(5502)}])},7681:function(e,s,t){"use strict";t.d(s,{Z:function(){return T}});var l=t(5893),n=t(9008),r=t.n(n);let a=e=>{let{children:s}=e;return(0,l.jsx)("div",{className:"mx-auto w-full max-w-screen-lg",children:s})};var c=t(1664),i=t.n(c),x=t(682),d=t(97);let o=e=>{let{url:s,text:t,children:n}=e;return(0,l.jsx)(i(),{href:s,children:(0,l.jsxs)("div",{className:"cursor-pointer flex space-x-2 font-semibold hover:text-indigo-600",children:[n,(0,l.jsx)("span",{className:"hidden sm:block",children:t})]})})},h=()=>(0,l.jsxs)("div",{className:"flex space-x-4 sm:space-x-8",children:[(0,l.jsx)(o,{url:"/posts",text:"posts",children:(0,l.jsx)(x.Z,{className:"h-6 w-6"})}),(0,l.jsx)(o,{url:"/about",text:"about",children:(0,l.jsx)(d.Z,{className:"h-6 w-6"})})]}),u=()=>(0,l.jsx)(i(),{href:"/",children:(0,l.jsx)("div",{className:"font-extrabold text-2xl",children:"Rangyu"})}),j=()=>(0,l.jsx)("header",{className:"border-b border-stone-300",children:(0,l.jsx)(a,{children:(0,l.jsxs)("div",{className:"h-[60px] flex-between px-4",children:[(0,l.jsx)(u,{}),(0,l.jsx)(h,{})]})})}),p=e=>{let{url:s,children:t}=e;return(0,l.jsx)(i(),{href:s,children:(0,l.jsx)("div",{className:"hover:underline hover:text-stone-600",children:t})})},m=()=>(0,l.jsxs)("div",{className:"flex-left space-x-4",children:[(0,l.jsx)(p,{url:"/terms",children:"terms"}),(0,l.jsx)(p,{url:"/privacy",children:"privacy"})]}),f=()=>(0,l.jsx)("footer",{className:"border-t border-stone-300",children:(0,l.jsx)(a,{children:(0,l.jsxs)("div",{className:"text-stone-500 text-sm py-4 sm:py-8 px-4 flex-between",children:[(0,l.jsx)("div",{children:"\xa9 2023 Rangyu"}),(0,l.jsx)(m,{})]})})}),v=e=>{let{children:s}=e;return(0,l.jsxs)("div",{className:"w-full min-h-screen",children:[(0,l.jsxs)(r(),{children:[(0,l.jsx)("title",{children:"Rangyu"}),(0,l.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)(j,{}),(0,l.jsx)("div",{children:(0,l.jsx)(a,{children:s})}),(0,l.jsx)(f,{})]})};var g=t(13),N=t(7524);let b=e=>{let{url:s,children:t}=e;return(0,l.jsx)(i(),{href:s,children:(0,l.jsx)("div",{className:"hover:bg-indigo-50 rounded-lg px-2 py-2 flex-left space-x-1",children:t})})},w=e=>{let{post:s}=e;return(0,l.jsxs)(b,{url:"/"+s.slug,children:[(0,l.jsx)(g.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"pr-2",children:s.title})]})},y=e=>{let{post:s}=e;return(0,l.jsxs)(b,{url:"/"+s.slug,children:[(0,l.jsx)("span",{className:"pl-2",children:s.title}),(0,l.jsx)(N.Z,{className:"h-4 w-4"})]})},_=e=>{let{prev:s,next:t}=e;return(0,l.jsxs)("div",{className:"flex justify-between text-indigo-500 hover:text-indigo-600 -mx-4 py-4",children:[s?(0,l.jsx)(w,{post:s}):(0,l.jsx)("span",{}),t?(0,l.jsx)(y,{post:t}):(0,l.jsx)("span",{})]})};var k=t(381),P=t.n(k);let Z=e=>{let{children:s}=e;return(0,l.jsx)(i(),{href:"/tags/"+s,children:(0,l.jsx)("span",{className:"bg-indigo-50 rounded-lg px-2 py-1 text-sm text-indigo-500",children:s})})},E=e=>{let{tags:s}=e;return(0,l.jsx)("div",{className:"flex-left sm:flex-center space-x-4",children:s.map(e=>(0,l.jsx)(Z,{children:e},"tag-".concat(e)))})},M=e=>{let{title:s,tags:t,wdate:n}=e;return(0,l.jsxs)("div",{className:"flex-col-left sm:flex-col-center space-y-2 sm:space-y-6 border-b py-4 sm:py-8 lg:py-16 mb-4 sm:mb-8 lg:mb-16 ",children:[t&&(0,l.jsx)(E,{tags:t}),s&&(0,l.jsx)("h1",{className:"font-bold text-2xl sm:text-3xl lg:text-4xl",children:s}),n&&(0,l.jsx)("div",{className:"text-stone-400 text-sm",children:n})]})},Y=e=>{let{prev:s,next:t}=e;return(0,l.jsx)("div",{className:"pb-4 sm:pb-8 lg:pb-16",children:(0,l.jsx)(_,{prev:s,next:t})})},R=e=>{let{isLoading:s,title:t,tags:n,wdate:r,prev:a,next:c,children:i}=e;return(0,l.jsx)(v,{children:(0,l.jsxs)("article",{className:"px-4 sm:px-16 lg:px-24",children:[(0,l.jsx)(M,{title:t,tags:n,wdate:r&&P()(r).format("dddd, MMMM Do YYYY")}),(0,l.jsx)("div",{className:"page-content",children:i}),(0,l.jsx)(Y,{prev:a,next:c})]})})};var T=R},7585:function(e,s,t){"use strict";async function l(){let e=await fetch("http://localhost:3000/api/tags"),s=await e.json();return s}async function n(e){try{let s=await fetch("http://localhost:3000/api/posts/prev/"+e),t=await s.json();return t}catch(l){return console.error(l),null}}async function r(){let e=await fetch("http://localhost:3000/api/posts/latest"),s=await e.json(),t=await n(s.uid);return{post:s,prev:t}}async function a(){let e=await fetch("http://localhost:3000/api/posts"),s=await l(),t=await e.json();return{tags:s,posts:t}}t.d(s,{Jq:function(){return a},ST:function(){return r}})},5502:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var l=t(5893),n=t(7681),r=t(1664),a=t.n(r),c=t(8767),i=t(7585),x=t(2962);let d=e=>{let{tag:s,posts:t}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:s}),(0,l.jsx)("ul",{children:null==t?void 0:t.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)(a(),{href:e.slug,children:e.title})},"post-".concat(e.slug)))})]},"posts-tag-".concat(s))};function o(){let{data:e,isLoading:s,isError:t,error:r}=(0,c.useQuery)("getPosts",i.Jq);return(0,l.jsxs)(n.Z,{title:"Posts",children:[(0,l.jsx)(x.PB,{title:"Posts - 랑유"}),null==e?void 0:e.tags.filter(e=>e.cnt>0).map(s=>(0,l.jsx)(d,{tag:s.name,posts:e.posts.filter(e=>e.tags.includes(s.name))}))]})}}},function(e){e.O(0,[885,573,962,774,888,179],function(){return e(e.s=5161)}),_N_E=e.O()}]);